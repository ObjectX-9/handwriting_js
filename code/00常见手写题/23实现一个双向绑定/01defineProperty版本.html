<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input id="input" />
    <span id="span"></span>
    <script>
        // æ•°æ®
        const data = {
            text: 'default'
        };
        const input = document.getElementById('input');
        const span = document.getElementById('span');

        input.value = data.text;
        span.innerHTML = data.text;

        // å†…éƒ¨å˜é‡å­˜å‚¨çœŸå®žæ•°æ®
        let _text = data.text;

        // æ•°æ®åŠ«æŒ
        Object.defineProperty(data, 'text', {
            // èŽ·å–æ•°æ®
            get() {
                return _text;
            },
            // æ•°æ®å˜åŒ– --> ä¿®æ”¹è§†å›¾
            set(newVal) {
                // é¿å…é‡å¤è®¾ç½®
                if (_text === newVal) return;

                // æ›´æ–°å†…éƒ¨å­˜å‚¨çš„æ•°æ®
                _text = newVal;

                // æ›´æ–°è§†å›¾
                input.value = newVal;
                span.innerHTML = newVal;

                console.log('ðŸ“ æ•°æ®å·²æ›´æ–°:', newVal);
            }
        });
        // è§†å›¾æ›´æ”¹ --> æ•°æ®å˜åŒ–
        input.addEventListener('keyup', function (e) {
            data.text = e.target.value;

            console.log('_text', _text)
        });

        setTimeout(() => {
            data.text = 'hello world'

            console.log(_text)
        }, 1000)

    </script>
</body>

</html>